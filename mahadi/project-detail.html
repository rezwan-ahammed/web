<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Details - Mahammud Hasan Mahadi</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;700;800&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-app-compat.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-database-compat.js" defer></script>
    <style>
        /* Master Stylesheet - Consistent with work.html */
        :root{--bg-color:#F8F9FA;--primary-text-color:#121212;--secondary-text-color:#595959;--accent-color:#3D52F3;--border-color:rgba(0,0,0,0.07);--header-bg:rgba(248,249,250,0.7);--shadow-color:rgba(0,0,0,0.04)}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{scroll-behavior:smooth}body{font-family:'Plus Jakarta Sans',sans-serif;background-color:var(--bg-color);color:var(--primary-text-color);line-height:1.7;overflow-x:hidden}body::before{content:'';position:fixed;top:0;left:0;right:0;bottom:0;z-index:-1;background:linear-gradient(320deg,#E4DFFF 0%,#F5FAFF 50%,#DDEEFF 100%);animation:gradient-animation 20s ease-in-out infinite;background-size:200% 200%}@keyframes gradient-animation{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}.container{width:100%;max-width:1200px;margin:0 auto;padding:0 1.5rem}.main-header{position:sticky;top:0;width:100%;z-index:1000;background-color:var(--header-bg);backdrop-filter:blur(12px);border-bottom:1px solid var(--border-color)}.main-header .container{display:flex;justify-content:space-between;align-items:center;height:70px}.logo{font-size:1.5rem;font-weight:800;text-decoration:none;color:var(--primary-text-color)}.main-nav ul{list-style:none;display:flex}.main-nav li{margin-left:2rem}.main-nav a{text-decoration:none;color:var(--secondary-text-color);font-weight:500;transition:color .3s}.main-nav a:hover,.main-nav a.active{color:var(--primary-text-color)}

        /* Project Detail Specific Styles */
        .project-header {
            text-align: center;
            padding: 6rem 0 2rem 0;
        }
        .project-header h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 800;
            margin-bottom: 0.5rem;
        }
        .project-header .category {
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--accent-color);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .project-hero-image {
            width: 100%;
            height: auto;
            max-height: 600px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 4rem;
            border: 1px solid var(--border-color);
        }

        .project-content {
            max-width: 800px; /* Optimal reading width */
            margin: 0 auto;
            padding-bottom: 6rem;
        }
        
        .project-content h2 {
            font-size: 2rem;
            margin-top: 3rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border-color);
        }

        .project-content p {
            margin-bottom: 1.5rem;
            color: var(--secondary-text-color);
            font-size: 1.1rem;
            white-space: pre-wrap; /* Preserves line breaks from textarea */
        }
        
        .project-gallery {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .project-gallery img {
            width: 100%;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .main-footer{text-align:center;padding:4rem 0;border-top:1px solid var(--border-color);color:var(--secondary-text-color)}

        @media(max-width: 768px) {
            .project-header {
                padding: 5rem 0 2rem 0;
            }
        }
        
        @media(max-width:480px){
            .container{padding:0 1rem}
            .main-nav li{margin-left:1.5rem}
        }
    </style>
</head>
<body>
    <header class="main-header">
        <div class="container">
            <a href="index.html" class="logo">MHM.</a>
            <nav class="main-nav">
                <ul>
                    <li><a href="work.html" class="active">Work</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <div id="project-detail-content">
            <!-- Content will be loaded dynamically here -->
            <div class="container">
                 <p style="text-align: center; padding: 5rem 0;">Loading project details...</p>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <p>Â© 2024 Mahammud Hasan Mahadi. All Rights Reserved.</p>
    </footer>

    <script type="module">
        const firebaseConfig = { apiKey: "AIzaSyAPgoVPBdYnnMHRnKbGJIe87HJ_Py82XUQ", authDomain: "mathemate-software.firebaseapp.com", databaseURL: "https://mathemate-software-default-rtdb.asia-southeast1.firebasedatabase.app", projectId: "mathemate-software", storageBucket: "mathemate-software.appspot.com", messagingSenderId: "780184955321", appId: "YOUR_WEB_APP_ID" };
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        const projectDetailContent = document.getElementById('project-detail-content');

        // Get project ID from the URL
        const urlParams = new URLSearchParams(window.location.search);
        const projectId = urlParams.get('id');

        if (projectId) {
            const projectRef = database.ref('projects/' + projectId);
            
            projectRef.on('value', (snapshot) => {
                const project = snapshot.val();
                
                if (project) {
                    // Update the document title
                    document.title = `${project.title} - M.H. Mahadi`;

                    // Generate the full gallery HTML
                    let galleryHTML = '';
                    if (project.imageUrls && project.imageUrls.length > 1) { // Show gallery if more than one image
                        // Skip the first image as it's the hero image
                        for (let i = 1; i < project.imageUrls.length; i++) {
                            galleryHTML += `<img src="${project.imageUrls[i]}" alt="${project.title} - Additional Image">`;
                        }
                    }

                    // Set the content
                    projectDetailContent.innerHTML = `
                        <section class="project-header">
                            <div class="container">
                                <p class="category">${project.category || 'Case Study'}</p>
                                <h1>${project.title}</h1>
                            </div>
                        </section>

                        <div class="container">
                             <img src="${project.imageUrls ? project.imageUrls[0] : ''}" alt="${project.title}" class="project-hero-image">
                        </div>

                        <section class="project-content">
                            <div class="container">
                                <h2>About This Project</h2>
                                <p>${project.description || 'No description provided.'}</p>
                                
                                ${galleryHTML ? `
                                <h2>Visual Gallery</h2>
                                <div class="project-gallery">
                                    ${galleryHTML}
                                </div>
                                ` : ''}
                            </div>
                        </section>
                    `;
                } else {
                    projectDetailContent.innerHTML = "<div class='container'><p style='text-align: center; padding: 5rem 0;'>Sorry, we couldn't find that project.</p></div>";
                }
            }, (error) => {
                console.error(error);
                projectDetailContent.innerHTML = "<div class='container'><p style='text-align: center; padding: 5rem 0;'>There was an error loading the project.</p></div>";
            });
        } else {
            projectDetailContent.innerHTML = "<div class='container'><p style='text-align: center; padding: 5rem 0;'>No project selected. Please go back to the work page and choose a project.</p></div>";
        }
    </script>
</body>
</html>
